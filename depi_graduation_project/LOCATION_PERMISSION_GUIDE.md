# ุฏููู ูุธุงู ุงูุชุญูู ูู ุงููููุน ูุงูุฃุฐููุงุช

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅุถุงูุฉ ูุธุงู ุดุงูู ููุชุญูู ูู ุญุงูุฉ ุงููููุน ูุงูุฃุฐููุงุช ุนูุฏ ุจุฏุก ุงูุชุทุจููุ ูุน ุนุฑุถ dialogs ููุงุณุจุฉ ููู ุญุงูุฉ.

## ุงูุญุงูุงุช ุงููุฏุนููุฉ

### 1. ุงููููุน ููุนู ูุงูุฅุฐู ููููุญ โ
- **ุงูุญุงูุฉ**: `LocationStatus.granted`
- **ุงูุณููู**: ูุชู ุชุญููู ุงูุฃูุงูู ุงููุฑูุจุฉ ุชููุงุฆูุงู
- **ูุง ูุชู ุนุฑุถ ุฃู dialog**

### 2. ุฎุฏูุฉ ุงููููุน ุบูุฑ ููุนูุฉ ๐
- **ุงูุญุงูุฉ**: `LocationStatus.serviceDisabled`
- **ุงูุณููู**: ูุชู ุนุฑุถ dialog ูุทูุจ ูู ุงููุณุชุฎุฏู ุชูุนูู GPS
- **ุงูุฎูุงุฑุงุช**:
  - **ูุงุญูุงู**: ุฅุบูุงู ุงูู dialog ุฏูู ุชูุนูู
  - **ุชูุนูู ุงููููุน**: ูุชุญ ุฅุนุฏุงุฏุงุช ุงููููุน ูู ุงููุธุงู

### 3. ุงูุฅุฐู ูุฑููุถ (ูููู ุทูุจู ูุฑุฉ ุฃุฎุฑู) ๐
- **ุงูุญุงูุฉ**: `LocationStatus.permissionDenied`
- **ุงูุณููู**: ูุชู ุนุฑุถ dialog ูุทูุจ ูู ุงููุณุชุฎุฏู ููุญ ุงูุฅุฐู
- **ุงูุฎูุงุฑุงุช**:
  - **ุฑูุถ**: ุฅุบูุงู ุงูู dialog ุฏูู ููุญ ุงูุฅุฐู
  - **ููุญ ุงูุฅุฐู**: ุทูุจ ุงูุฅุฐู ูู ุงููุธุงู

### 4. ุงูุฅุฐู ูุฑููุถ ููุงุฆูุงู โ
- **ุงูุญุงูุฉ**: `LocationStatus.permissionDeniedForever`
- **ุงูุณููู**: ูุชู ุนุฑุถ dialog ูุทูุจ ูู ุงููุณุชุฎุฏู ูุชุญ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู
- **ุงูุฎูุงุฑุงุช**:
  - **ุฅูุบุงุก**: ุฅุบูุงู ุงูู dialog
  - **ูุชุญ ุงูุฅุนุฏุงุฏุงุช**: ูุชุญ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู ูู ุงููุธุงู

## ุขููุฉ ุงูุนูู

### 1. ุนูุฏ ูุชุญ ุงูุชุทุจูู
```dart
void initState() {
  super.initState();
  _checkLocationAndLoadPlaces();
}
```

### 2. ุงูุชุญูู ูู ุญุงูุฉ ุงููููุน
```dart
Future<void> _checkLocationAndLoadPlaces() async {
  final status = await LocationService.instance.checkLocationStatus();
  
  switch (status) {
    case LocationStatus.serviceDisabled:
      _showLocationServiceDialog();
      break;
    case LocationStatus.permissionDenied:
      _showPermissionDialog();
      break;
    case LocationStatus.permissionDeniedForever:
      _showPermissionDeniedForeverDialog();
      break;
    case LocationStatus.granted:
      context.read<PlacesCubit>().loadPlaces();
      break;
  }
}
```

### 3. ุนุฑุถ Dialogs ููุงุณุจุฉ
ูู ุญุงูุฉ ููุง dialog ุฎุงุต ุจูุง ูุน:
- ุฃููููุฉ ููุงุณุจุฉ
- ุนููุงู ูุงุถุญ
- ุฑุณุงูุฉ ุชูุถูุญูุฉ
- ุฃุฒุฑุงุฑ ููุฅุฌุฑุงุกุงุช ุงูููุงุณุจุฉ

## ุงูุฏูุงู ุงูุฌุฏูุฏุฉ ูู LocationService

### `checkLocationStatus()`
ุชุชุญูู ูู ุญุงูุฉ ุงููููุน ูุงูุฃุฐููุงุช ูุชุฑุฌุน ุฅุญุฏู ุงูุญุงูุงุช:
- `LocationStatus.granted`
- `LocationStatus.serviceDisabled`
- `LocationStatus.permissionDenied`
- `LocationStatus.permissionDeniedForever`

### `isLocationServiceEnabled()`
ุชุชุญูู ูู ุชูุนูู ุฎุฏูุฉ ุงููููุน (GPS)

### `checkPermission()`
ุชุชุญูู ูู ุญุงูุฉ ุฅุฐู ุงููุตูู ูููููุน

### `requestPermission()`
ุชุทูุจ ุฅุฐู ุงููุตูู ูููููุน ูู ุงููุณุชุฎุฏู

### `openLocationSettings()`
ุชูุชุญ ุฅุนุฏุงุฏุงุช ุงููููุน ูู ุงููุธุงู

### `openAppSettings()`
ุชูุชุญ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู ูู ุงููุธุงู

## ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู

### ุงูุณููุงุฑูู 1: ูุณุชุฎุฏู ุฌุฏูุฏ
1. ููุชุญ ุงูุชุทุจูู ูุฃูู ูุฑุฉ
2. ูุธูุฑ dialog ูุทูุจ ููู ุชูุนูู ุงููููุน (ุฅุฐุง ูุงู ูุบูู)
3. ูุธูุฑ dialog ูุทูุจ ููู ููุญ ุงูุฅุฐู
4. ุจุนุฏ ุงูููุงููุฉุ ูุชู ุชุญููู ุงูุฃูุงูู ุงููุฑูุจุฉ ุชููุงุฆูุงู

### ุงูุณููุงุฑูู 2: ูุณุชุฎุฏู ุฑูุถ ุงูุฅุฐู ุณุงุจูุงู
1. ููุชุญ ุงูุชุทุจูู
2. ูุธูุฑ dialog ูุทูุจ ููู ููุญ ุงูุฅุฐู ูุฑุฉ ุฃุฎุฑู
3. ููููู ุงูููุงููุฉ ุฃู ุงูุฑูุถ

### ุงูุณููุงุฑูู 3: ูุณุชุฎุฏู ุฑูุถ ุงูุฅุฐู ููุงุฆูุงู
1. ููุชุญ ุงูุชุทุจูู
2. ูุธูุฑ dialog ูุทูุจ ููู ูุชุญ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู
3. ููููู ูุชุญ ุงูุฅุนุฏุงุฏุงุช ูุชูุนูู ุงูุฅุฐู ูุฏููุงู

### ุงูุณููุงุฑูู 4: ูุณุชุฎุฏู ุฃุบูู GPS
1. ููุชุญ ุงูุชุทุจูู
2. ูุธูุฑ dialog ูุทูุจ ููู ุชูุนูู GPS
3. ููููู ูุชุญ ุฅุนุฏุงุฏุงุช ุงููููุน ูุชูุนููู

## ุงููููุงุช ุงููุนุฏูุฉ

### 1. `lib/core/services/location_service.dart`
- ุฅุถุงูุฉ ุฏูุงู ุฌุฏูุฏุฉ ููุชุญูู ูู ุญุงูุฉ ุงููููุน
- ุฅุถุงูุฉ ุฏูุงู ููุชุญ ุงูุฅุนุฏุงุฏุงุช
- ุฅุถุงูุฉ enum `LocationStatus` ููุญุงูุงุช ุงููุฎุชููุฉ

### 2. `lib/features/home/presentation/views/widgets/home_view_body.dart`
- ุฅุถุงูุฉ `_checkLocationAndLoadPlaces()` ููุชุญูู ูู ุงููููุน ุนูุฏ ุงูุจุฏุก
- ุฅุถุงูุฉ `_showLocationServiceDialog()` ูุนุฑุถ dialog ุชูุนูู ุงููููุน
- ุฅุถุงูุฉ `_showPermissionDialog()` ูุนุฑุถ dialog ุทูุจ ุงูุฅุฐู
- ุฅุถุงูุฉ `_showPermissionDeniedForeverDialog()` ูุนุฑุถ dialog ุงูุฅุฐู ุงููุฑููุถ ููุงุฆูุงู
- ุฅุถุงูุฉ `_showPermissionDeniedMessage()` ูุนุฑุถ ุฑุณุงูุฉ ุนูุฏ ุฑูุถ ุงูุฅุฐู

## ูููุฒุงุช ุงููุธุงู

### 1. ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุณุฉ
- ุฑุณุงุฆู ูุงุถุญุฉ ููููููุฉ ุจุงูุนุฑุจูุฉ
- ุฃููููุงุช ูุนุจุฑุฉ ููู ุญุงูุฉ
- ุฎูุงุฑุงุช ูุงุถุญุฉ ูููุณุชุฎุฏู

### 2. ูุนุงูุฌุฉ ุดุงููุฉ ูุฌููุน ุงูุญุงูุงุช
- ุชูุนูู/ุชุนุทูู GPS
- ููุญ/ุฑูุถ ุงูุฅุฐู
- ุงูุฅุฐู ุงููุฑููุถ ููุงุฆูุงู

### 3. ุฅุนุงุฏุฉ ุงูุชุญูู ุงูุชููุงุฆู
- ุจุนุฏ ูุชุญ ุงูุฅุนุฏุงุฏุงุชุ ูุชู ุฅุนุงุฏุฉ ุงูุชุญูู ุชููุงุฆูุงู
- ุจุนุฏ ููุญ ุงูุฅุฐูุ ูุชู ุชุญููู ุงูุฃูุงูู ุชููุงุฆูุงู

### 4. ุฎูุงุฑุงุช ูุฑูุฉ
- ูููู ูููุณุชุฎุฏู ุชุฃุฌูู ุงูุชูุนูู
- ูููู ูููุณุชุฎุฏู ุฑูุถ ุงูุฅุฐู
- ูููู ูููุณุชุฎุฏู ุฅุนุงุฏุฉ ุงููุญุงููุฉ ูุงุญูุงู

## ููุงุญุธุงุช ูููุฉ

1. **barrierDismissible: false**: ุชู ุชุนุทูู ุฅุบูุงู ุงูู dialogs ุจุงูููุฑ ุฎุงุฑุฌูุง ูุถูุงู ุงุชุฎุงุฐ ุงููุณุชุฎุฏู ูุฑุงุฑุงู ูุงุถุญุงู

2. **ุฅุนุงุฏุฉ ุงูุชุญูู**: ุจุนุฏ ูุชุญ ุงูุฅุนุฏุงุฏุงุชุ ูุชู ุงูุงูุชุธุงุฑ ุซุงููุฉ ูุงุญุฏุฉ ุซู ุฅุนุงุฏุฉ ุงูุชุญูู ูู ุงูุญุงูุฉ

3. **SnackBar ููุฑูุถ**: ุนูุฏ ุฑูุถ ุงูุฅุฐูุ ูุชู ุนุฑุถ SnackBar ูุน ุฎูุงุฑ ุฅุนุงุฏุฉ ุงููุญุงููุฉ

4. **mounted check**: ูุชู ุงูุชุญูู ูู `mounted` ูุจู ุนุฑุถ ุฃู UI ูุชุฌูุจ ุงูุฃุฎุทุงุก

## ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ุงูุญุงูุฉ 1: GPS ูุบูู
1. ุฃุบูู GPS ูู ุฅุนุฏุงุฏุงุช ุงูุฌูุงุฒ
2. ุงูุชุญ ุงูุชุทุจูู
3. ุชุญูู ูู ุธููุฑ dialog ุชูุนูู ุงููููุน
4. ุงุถุบุท "ุชูุนูู ุงููููุน" ูุชุญูู ูู ูุชุญ ุงูุฅุนุฏุงุฏุงุช

### ุงุฎุชุจุงุฑ ุงูุญุงูุฉ 2: ุงูุฅุฐู ูุฑููุถ
1. ุงุญุฐู ุงูุชุทุจูู ูุฃุนุฏ ุชุซุจูุชู
2. ุงูุชุญ ุงูุชุทุจูู
3. ุชุญูู ูู ุธููุฑ dialog ุทูุจ ุงูุฅุฐู
4. ุงุถุบุท "ููุญ ุงูุฅุฐู" ูุชุญูู ูู ุทูุจ ุงูุฅุฐู

### ุงุฎุชุจุงุฑ ุงูุญุงูุฉ 3: ุงูุฅุฐู ูุฑููุถ ููุงุฆูุงู
1. ุงุฑูุถ ุงูุฅุฐู ูุงุฎุชุฑ "Don't ask again"
2. ุงูุชุญ ุงูุชุทุจูู ูุฑุฉ ุฃุฎุฑู
3. ุชุญูู ูู ุธููุฑ dialog ูุชุญ ุงูุฅุนุฏุงุฏุงุช
4. ุงุถุบุท "ูุชุญ ุงูุฅุนุฏุงุฏุงุช" ูุชุญูู ูู ูุชุญ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู

### ุงุฎุชุจุงุฑ ุงูุญุงูุฉ 4: ูู ุดูุก ููุนู
1. ูุนูู GPS
2. ุงููุญ ุงูุฅุฐู
3. ุงูุชุญ ุงูุชุทุจูู
4. ุชุญูู ูู ุชุญููู ุงูุฃูุงูู ุชููุงุฆูุงู ุฏูู ุฃู dialogs

## ุงูุชุญุณููุงุช ุงููุณุชูุจููุฉ ุงูููุชุฑุญุฉ

1. ุฅุถุงูุฉ animation ููู dialogs
2. ุฅุถุงูุฉ ุฎูุงุฑ "ุนุฏู ุงูุณุคุงู ูุฑุฉ ุฃุฎุฑู" ูููุณุชุฎุฏููู ุงูุฐูู ูุง ูุฑูุฏูู ุงุณุชุฎุฏุงู ุงููููุน
3. ุฅุถุงูุฉ ูุถุน offline ูุนุฑุถ ุฃูุงูู ูุญููุธุฉ ูุณุจูุงู
4. ุฅุถุงูุฉ ุฎูุงุฑ ุงูุจุญุซ ุงููุฏูู ุนู ูุฏููุฉ ุจุฏูุงู ูู ุงููููุน ุงูุญุงูู
